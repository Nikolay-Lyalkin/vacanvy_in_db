# Vacancy_in_db

## Описание:
Vacancy in db - поиск вакансий по интересующим компаниям и добавления вакансий в базу данных  

## Установка:
1. Клонируйте репозиторий:
- git@github.com:Nikolay-Lyalkin/vacanvy_in_db.git
- [скопируйте ключ самостоятельно](https://github.com/Nikolay-Lyalkin/vacanvy_in_db)
2. Установите зависимости
3. Заполните переменные host, user, name_db, password в модуле main.py перед использованием

## Иструкция по использованию:
1. Модуль get_vacancies_from_hh.py имеет класс HH.
Служит для отправки API запроса на HeadHunter и получения вакансий с данной платформы.
Метод для получения вакансий - get_vacancies(keywords). Принимает аргумент 'keywords'(type list), где перечислены названия вакансий по которым будет осущетвляться поиск вакансий.

2. Модуль create_db.py имеет класс DB.
Класс DB служит для:
- создания базы данных - метод create_database()
- создания таблиц - create_table()
- добавления названия компаний работодателя - add_company_name(employers), где аргумент типа list и в нём перечислены компании
- добавления вакансий - add_vacancies(vacancies), где аргумент объект класса HH

3. Модуль database_manager.py содержит в себе класс DBManager со следующими методами:
- get_companies_and_vacancies_count() - возвращает список всех компаний и количество вакансий у каждой компании
- get_all_vacancies() - для получения всех вакансий
- get_avg_salary() - возвращает среднюю зарплату по вакансиям
- get_vacancies_with_higher_salary() - возвращает список вакансий, у которых зарплата выше средней по всем вакансиям
- get_vacancies_with_keyword(*args) - возвращает список вакансий, в названии которых содержатся переданные в метод слова (*args)
## Тестирование:
В пакете tests проведено тестирование модулей.
В модуле conftest содержатся фикстуры для тестирования.
